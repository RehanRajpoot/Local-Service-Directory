{% extends 'base.html' %}
{% block content %}
<h4>Admin - Manage Providers</h4>
<p class="text-muted small">(This admin area has NO authentication â€” for Phase-1 only.)</p>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th><th>Category</th><th>City</th><th>Approved</th><th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for p in providers %}
    <tr>
      <td>{{ p.name }}</td>
      <td>{{ p.category }}</td>
      <td>{{ p.city }}</td>
      <td>{% if p.approved %}<span class="badge bg-success">Yes</span>{% else %}<span class="badge bg-secondary">No</span>{% endif %}</td>
      <td>
        <a href="{{ url_for('provider_detail', provider_id=p.id) }}" class="btn btn-sm btn-outline-primary">View</a>

        <form style="display:inline-block" method="post">
          <input type="hidden" name="provider_id" value="{{ p.id }}">
          {% if not p.approved %}
            <button name="action" value="approve" class="btn btn-sm btn-success">Approve</button>
          {% else %}
            <button name="action" value="unapprove" class="btn btn-sm btn-warning">Unapprove</button>
          {% endif %}
        </form>

        <form style="display:inline-block" method="post" onsubmit="return confirm('Are you sure?');">
          <input type="hidden" name="provider_id" value="{{ p.id }}">
          <button name="action" value="reject" class="btn btn-sm btn-danger">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
